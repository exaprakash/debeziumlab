docker rmi -f $(docker images -a -q)
 docker compose  exec -it sinkmysql mysql -uroot -pdebezium

     SELECT 
        table_schema AS 'DB Name',
        ROUND(SUM(data_length + index_length) / 1024 / 1024, 2) AS 'DB Size in MB'
    FROM 
        information_schema.tables 
    GROUP BY 
        table_schema
    ORDER BY 
        'DB Size in MB' DESC;


SELECT 'customer' AS table_name, COUNT(*) AS row_count FROM customer 
UNION ALL 
SELECT 'district', COUNT(*) FROM district 
UNION ALL
SELECT 'history', COUNT(*) FROM history 
UNION ALL 
SELECT 'item', COUNT(*) FROM item 
UNION ALL 
SELECT 'new_order', COUNT(*) FROM new_order
UNION ALL 
SELECT 'order_line', COUNT(*) FROM order_line 
UNION ALL 
SELECT 'orders', COUNT(*) FROM orders 
UNION ALL 
SELECT 'stock', COUNT(*) FROM stock 
UNION ALL 
SELECT 'warehouse', COUNT(*) FROM warehouse;


SELECT 'customer' AS table_name, COUNT(*) AS row_count FROM cdc_tpcc_customer 
UNION ALL 
SELECT 'district', COUNT(*) FROM cdc_tpcc_district 
UNION ALL 
SELECT 'item', COUNT(*) FROM cdc_tpcc_item 
UNION ALL 
SELECT 'new_order', COUNT(*) FROM cdc_tpcc_new_order
UNION ALL 
SELECT 'order_line', COUNT(*) FROM cdc_tpcc_order_line 
UNION ALL 
SELECT 'orders', COUNT(*) FROM cdc_tpcc_orders 
UNION ALL 
SELECT 'stock', COUNT(*) FROM cdc_tpcc_stock
UNION ALL 
SELECT 'history', COUNT(*) FROM cdc_tpcc_history 
UNION ALL 
SELECT 'warehouse', COUNT(*) FROM cdc_tpcc_warehouse;

docker compose exec srcmysql \
  mysql -u root -pdebezium -e \
"SELECT 
    table_schema,
    table_name,
    ROUND((data_length + index_length) / 1024 / 1024, 2) AS size_mb
FROM information_schema.tables
ORDER BY size_mb DESC;
"


docker compose exec sinkmysql \
  mysql -u root -pdebezium -e "SHOW VARIABLES LIKE 'max_connections'; SHOW STATUS LIKE 'Threads_connected';"

docker compose ps -q | xargs docker stats --no-stream




